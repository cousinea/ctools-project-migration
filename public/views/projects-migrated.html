<div ng-if="!migratedProjects.length && !migratedProjectsError">
	There are no completed exports at this time.
</div>

<div ng-if="migratedProjectsError" class="alert alert-danger" role="alert">
	<span class="emoji">ðŸ¤•</span> There was an error retrieving completed migrations!
</div>

<div ng-if="migratedProjects.length && !migratedProjectsError">
	<ul class="list-group" style="margin-bottom:0">
  	<li class="list-group-item" ng-repeat="migratedProject in migratedProjects | orderBy:['site_name', '-end_time']">
  		<!--//this is not very good, but leaves the model untouched for polling needs
  		and presents a categorized view -->
  		<div style="border-bottom: 1px solid #ddd;margin:-6px -13px 10px;padding:0 5px 5px 5px" ng-if ="migratedProject.site_id !== migratedProjects[$index - 1].site_id">
  			<strong>{{migratedProject.site_name}}</strong>
  		</div>
  		<div class="row">
	  		<div class="col-md-8 col-lg-8 col-sm-8 col-xs-8">
	    			{{migratedProject.tool_name}} <small class="muted">({{migratedProject.end_time | date:'MM/dd h:mma'}})</small>
		  	</div>
		  	<div class="col-md-4 col-lg-4 col-sm-4 col-xs-4" style="text-align:right">
		  		<span ng-class="migratedProject.status.status.status_code ==='Fail' ? 'export-fail' : 'export-success'">{{migratedProject.status.status.status_code}} </span>
		  		<small><a href="" ng-click="showDetails($index, migratedProject.site_name )">(info) <span class="sr-only">Information on migration of {{migratedProject.tool_name}} for {{migratedProject.site_name}}</span></a></small>	
 
		  	</div>
		  </div>
		  <div class="row">
		  	<div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
		  		<small>Exported to {{migratedProject.destination_type}}</small>	
		  	</div>
		  </div>	
		</li>
	</ul>
</div>
